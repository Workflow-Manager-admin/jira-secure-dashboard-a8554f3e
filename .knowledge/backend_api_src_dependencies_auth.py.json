{"is_source_file": true, "format": "Python", "description": "This source file provides authentication dependencies for route protection in a FastAPI project, including functions to verify JWT tokens, retrieve the current user session, initialize Jira service instances, and enforce authentication requirements.", "external_files": ["../models/database", "../models/user_session", "../utils/auth", "../services/jira_service"], "external_methods": ["verify_token", "decrypt_api_token", "get_database", "JiraService"], "published": ["get_current_user", "get_jira_service", "require_authentication"], "classes": [], "methods": [{"name": "Dict[str,Any] get_current_user( credentials: HTTPAuthorizationCredentials = Depends(security), db: Session = Depends(get_database) )", "description": "Dependency to extract and validate the current authenticated user from an incoming request, verifying JWT token, session, and expiration.", "scope": "", "scopeKind": ""}, {"name": "JiraService get_jira_service( current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "Creates and returns a JiraService instance configured for the current user, decrypting API tokens and handling exceptions.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] require_authentication( current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "A dependency that ensures the user is authenticated, returning user info.", "scope": "", "scopeKind": ""}], "calls": ["verify_token(credentials.credentials)", "datetime.now(timezone.utc)", "db.query(UserSession).filter(...).first()", "db.commit()", "decrypt_api_token(current_user[\"encrypted_api_token\"])", "JiraService(...)"], "search-terms": ["auth dependencies", "JWT token validation", "session management", "JiraService initialization", "FastAPI security dependencies"], "state": 2, "file_id": 16, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/jira-secure-dashboard-a8554f3e/backend_api/src/dependencies/auth.py", "pattern": "/^async def get_current_user($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( credentials: HTTPAuthorizationCredentials = Depends(security), db: Session = Depends(get_database) )"}, {"_type": "tag", "name": "get_jira_service", "path": "/home/kavia/workspace/code-generation/jira-secure-dashboard-a8554f3e/backend_api/src/dependencies/auth.py", "pattern": "/^async def get_jira_service($/", "language": "Python", "typeref": "typename:JiraService", "kind": "function", "signature": "( current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/jira-secure-dashboard-a8554f3e/backend_api/src/dependencies/auth.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "require_authentication", "path": "/home/kavia/workspace/code-generation/jira-secure-dashboard-a8554f3e/backend_api/src/dependencies/auth.py", "pattern": "/^def require_authentication($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "security", "path": "/home/kavia/workspace/code-generation/jira-secure-dashboard-a8554f3e/backend_api/src/dependencies/auth.py", "pattern": "/^security = HTTPBearer()$/", "language": "Python", "kind": "variable"}], "hash": "40a53f7fb6f328a374498a9ceae45981", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/dependencies/auth.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "security = HTTPBearer()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"33": ""}]}